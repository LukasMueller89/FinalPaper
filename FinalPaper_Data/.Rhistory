colors()
---
title: "An odd relation: National Equity Prices and GDP Growth"
author: "Limberg, Daniel & Mueller, Lukas"
date: "April 2016"
output: pdf_document
---
```{r, echo=FALSE, message=FALSE, include=FALSE, cache=FALSE}
# Descriptive & Inferential Statistics
library(stargazer)
library(Rmisc)
library(ggplot2)
library(magrittr)
library(grid)
library(xtable)
# Set Working Directory
try(setwd("/Users/Lukas/Documents/Git/PairAssignment3/"),silent=TRUE)
try(setwd("C:/Users/Dani/Documents/GitHub2/PairAssignment3/"),silent=TRUE)
getwd()
# Dynamical Link to first R script file
source("PairAssignment3_Code/PairAssignment3_Variables_LagsPercChanges.R")
```
# Introduction
In this assignment, we investigate on an odd relation: GDP growth and national equity prices; that is national stock indices. The intuitive assumption that one has automatically is fairly straight forward: The better the economy performs, the higher expectations of market participants, investments and trust in the future. In turn, we should - naturally - obtain an increase the level of national stock market indices.
However, the more interesting question is beyond this intuitive assumption:
Focusing on four OECD countries (Germany, France, Great Britain and Japan) we investigate on the question whether there are different levels of statistical significance for the effect of GDP growth on equity prices. Note that we do not compare the size of the effects (i.e. coefficients) since we investigate on different dependent variables. Rather, we compare the statistical significance across the four countries of interest. For equity prices, we take the four major national stock market indices of the countries as our dependent variable: The DAX (Germany), CAC (France), FTSE (Great Britain) and the NIKKEI (Japan). We control for a row of other, lagged explanatory determinants - not only from within the national economy (e.g. unemployment rate) but also external, more global factors (e.g. oil prices). We elaborate on the specific covariates below. For our analysis we focus on the time period between the second quarter of 1999 (where ECB interest rates became relevant) and fourth quarter of 2015.
# Research Question and Hypothesis
Are there different levels of statistical significance for the effect of a nation's GDP growth on national equity prices?
H~0~: There are no statistically significant effects of GDP growth on changes of National Stock Market Indices.
H~1~: There are no statistically significant effects of GDP growth on changes of National Stock Market Indices.
# Descriptive Statistics
## Variables of Interest
We investigate on four different dependent variables: The National stock indices of Germany, France, Great Britain and Japan. We obtain data from their average closing values.
**Dependent Variables**   | Official Title                      | Scope
-------------------- | ----------------------------------- | -----------------------
DAX (Germany)        | Deutscher Aktienindex               | 30 major Companies
CAC (France)         | Cotation Assist√© en Continu 40      | 40 highest Market Caps
FTSE (Great Britain) | Fin. Times Stock Exchange 100 Index | 100 Companies
NIKKEI (Japan)       | NIKKEI 225                          | 225 Equities
We control for various covariates in our model. We lag all our covariates by one quarter.
* ECB Main Refinancing Operations (% change to previous rate)
* ECB Deposit Facility (% change to previous rate)
* GDP Growth USA (% change to previous quarter)
* West Texas Intermediate (WTI) (% change to previous quarter in U.S. $)
* Brent Crude (% change to previous quarter in U.S. $)
We take the quarterly GDP growth rate of the USA as a proxy for the world economy. The economy of the USA has a profound impact on other national business cycles, and national recessions in the US have sever repercussions across the globe. This was demonstrated again after 2007 when the US subprime mortgage crisis turned into a global recession. Moreover, the West Texas Intermediate and Brent Crude oil price changes are taken as an indicator of global economic health.
We also control for country-specific covariates.
* GDP Growth (% change to previous quarter)
* Unemployment (in %)
* Private Consumption (in % of GDP )
Note that for the descriptive statistics section all graphs apply the full range of our available data (i.e. Q1 1991 until Q4 2015). However, our actual analysis (under the inferential statistics section) only takes into account the time period between Q2 1999 and Q4 2015 since we also control for ECB interest rates.
**Figure 1** presents a first glance at the four dependent variables from the first quarter in 1991 to the last quarter in 2015. Striking is the non-linearity of the graphs and the fact that the NIKKEI - quite contrary to the other indices - rather declined/stagnated. The DAX, CAC 40 and the FTSE shows fairly similar developments.
## Figure 1: *Dependent Variables (National Stock Indices) over time*
```{r, echo=FALSE, message=FALSE, include=FALSE, cache=FALSE}
### Germany
p1 <- ggplot(data = merge10, aes(x = Date, y = DAX.Close)) + geom_line() + scale_x_continuous(breaks=seq(1991.1, 2015.4, 10)) + ggtitle("Germany | DAX") + theme(plot.title = element_text(size=10)) + labs(x = "Quarters", y = "Av. Closing Value") + theme(legend.position="none") + theme(axis.text=element_text(size=8),
axis.title=element_text(size=8))
### Japan
p2 <- ggplot(data = merge10, aes(x = Date, y = NIK.Close)) + geom_line() + scale_x_continuous(breaks=seq(1991.1, 2015.4, 10)) + ggtitle("Japan | NIKKEI") + theme(plot.title = element_text(size=10)) + labs(x = "Quarters", y = "Av. Closing Value") + theme(legend.position="none") + theme(axis.text=element_text(size=8),
axis.title=element_text(size=8))
### France
p3 <- ggplot(data = merge10, aes(x = Date, y = CAC.Close)) + geom_line() + scale_x_continuous(breaks=seq(1991.1, 2015.4, 10)) + ggtitle("France | CAC40") + theme(plot.title = element_text(size=10)) + labs(x = "Quarters", y = "Av. Closing Value") + theme(legend.position="none") + theme(axis.text=element_text(size=8),
axis.title=element_text(size=8))
### Great Britain
p4 <- ggplot(data = merge10, aes(x = Date, y = FTSE.Close)) + geom_line() + scale_x_continuous(breaks=seq(1991.1, 2015.4, 10)) + ggtitle("Great Britain | FTSE") + theme(plot.title = element_text(size=10)) + labs(x = "Quarters", y = "Av. Closing Value") + theme(legend.position="none") + theme(axis.text=element_text(size=8),
axis.title=element_text(size=8))
```
```{r, echo=FALSE}
multiplot(p1, p2, p3, p4, cols = 2)
```
\newpage
View(merge10)
View(merge10)
# Collaborative Social Sience Data - Pair Assignment 3
# Variables
library(DataCombine)
# Set Working Directory
try(setwd("/Users/Lukas/Documents/Git/FinalPaper/"),silent=TRUE)
try(setwd("C:/Users/Dani/Documents/GitHub2/FinalPaper/"),silent=TRUE)
getwd()
# Dynamical Link to first R script file
source("FinalPaper_Code/FinalPaper_CleaningMerging.R")
#delete obsolete columns
merge10$iso3c <- NULL
merge10$iso3c.x <- NULL
merge10$iso3c.y <- NULL
# define year and Date as numeric
merge10$year <- as.factor(merge10$year)
merge10$Date <- gsub("Q",".",merge10$Date)
merge10$Date <- as.numeric(merge10$Date)
# replace NA's for ECB after 1998.4
sel <- which(merge10$Date>1998.4)
merge10$ECB.MRO.change[sel][is.na(merge10$ECB.MRO.change[sel])] <- 0
merge10$ECB.dep.change[sel][is.na(merge10$ECB.dep.change[sel])] <- 0
rm(sel)
# creating time lags
# lag variables by one time period (one quarter year)
var <- c("USA.GDP", "JPN.GDP", "GBR.GDP", "FRA.GDP", "DEU.GDP", "USA.unempl", "JPN.unempl", "GBR.unempl",
"FRA.unempl", "DEU.unempl", "USA.prvconsm", "JPN.prvconsm", "GBR.prvconsm", "FRA.prvconsm",
"DEU.prvconsm", "WTI.dollar.change", "Brent.dollar.change", "ECB.MRO.change", "ECB.dep.change",
"USA.infl", "JPN.infl", "GBR.infl", "FRA.infl", "DEU.infl")
for (i in var) {
merge10[, paste0("L.", i)] <- DataCombine::shift(merge10[, i], shiftBy = -1)
}
for (i in var) {
merge10[, paste0("L2.", i)] <- DataCombine::shift(merge10[, i], shiftBy = -2)
}
rm(i, var)
# creating new outcome variable: percentage change of stock indices
var <- c("CAC.Close", "DAX.Close", "FTSE.Close", "NIK.Close")
for (i in var){
merge10 <- change(merge10, Var = i,
type = 'percent',
NewVar = paste0(i, ".change"),
slideBy = -1)
}
rm(i, var)
# re-order columns
merge10 <- merge10[ ,c(1,8,2:7,9:102)]
View(merge10)
install.packages("DAAG")
# Descriptive & Inferential Statistics
library(stargazer)
library(Rmisc)
library(ggplot2)
library(magrittr)
library(grid)
library(DAAG)
# Set Working Directory
try(setwd("/Users/Lukas/Documents/Git/FinalPaper/"),silent=TRUE)
try(setwd("C:/Users/Dani/Documents/GitHub2/FinalPaper/"),silent=TRUE)
getwd()
# Dynamical Link to first R script file
source("FinalPaper_Code/FinalPaper_Variables.R")
stargazer(merge10[c("CAC.Close.change", "DAX.Close.change", "FTSE.Close.change", "NIK.Close.change", "L.FRA.GDP", "L.DEU.GDP", "L.GBR.GDP"), "L.JPN.GDP"],
type = "text",
title = "Descriptive statistics",
header = FALSE,
digits=1)
merge10[c("CAC.Close.change", "DAX.Close.change", "FTSE.Close.change", "NIK.Close.change", "L.FRA.GDP", "L.DEU.GDP", "L.GBR.GDP"), "L.JPN.GDP"]
merge10[, c("CAC.Close.change", "DAX.Close.change", "FTSE.Close.change", "NIK.Close.change", "L.FRA.GDP", "L.DEU.GDP", "L.GBR.GDP"), "L.JPN.GDP"]
merge10[, c("CAC.Close.change", "DAX.Close.change", "FTSE.Close.change", "NIK.Close.change", "L.FRA.GDP", "L.DEU.GDP", "L.GBR.GDP", "L.JPN.GDP")]
stargazer(merge10[, c("CAC.Close.change", "DAX.Close.change", "FTSE.Close.change", "NIK.Close.change", "L.FRA.GDP", "L.DEU.GDP", "L.GBR.GDP", "L.JPN.GDP")],
type = "text",
title = "Descriptive statistics",
header = FALSE,
digits=1)
stargazer(M9, M10, M11, M12,
type="latex",
font.size = "tiny",
title = "Variation of Final Model",
covariate.labels = c("France GDP growth", "France GDP growth (two q. lag)",
"France inflation", "France pr. consumption", "Germany GDP growth", "Germany GDP growth (two q. lag"),
"Germany inflation", "Germany pr. consumption", "Great Britain GDP growth", "GDP Great Britain GDP growth (two q. lag)",
"Great Britain inflation", "Great Britain pr. consumption", "Japan GDP growth", "Japan GDP growth (two q. lag)",
"Japan inflation", "Japan pr. consumption", "ECB deposit facility", "WTI", "USA GDP growth",
"USA GDP growth (two q. lag)", "1999", "2000", "2001", "2002", "2003", "2004", "2005", "2007"
, "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015"),
, "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015"),
USA GDP growth", "USA GDP growth (two q. lag)", "1999", "2000", "2001", "2002", "2003", "2004",
install.packages("rmarkdown", type = "source")
install.packages("rmarkdown", type = "source")
